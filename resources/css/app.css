@import 'tailwindcss';
@import '../../vendor/tallstackui/tallstackui/css/v4.css';

@source '../views';
@source '../../vendor/tallstackui/tallstackui/**/*.php';
@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';

@custom-variant dark (&:where(.dark, .dark *));

@plugin '@tailwindcss/forms';

/* -------------------------------------------------------------------------- */
/* Global loader (one-time, works across all pages)                            */
/* -------------------------------------------------------------------------- */
.fx-global-loader {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: none;
}

.fx-global-loader[aria-hidden="false"] {
    display: block;
}

.fx-global-loader__backdrop {
    position: absolute;
    inset: 0;
    background: rgba(2, 6, 23, 0.55);
    backdrop-filter: blur(10px);
}

.fx-global-loader__panel {
    position: absolute;
    top: 18px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 14px;
    border-radius: 14px;
    border: 1px solid rgba(148, 163, 184, 0.18);
    background: rgba(15, 23, 42, 0.75);
    box-shadow: 0 16px 40px rgba(0, 0, 0, 0.35);
}

.fx-global-loader__spinner {
    width: 18px;
    height: 18px;
    border-radius: 999px;
    border: 2px solid rgba(226, 232, 240, 0.25);
    border-top-color: rgba(34, 211, 238, 0.95);
    border-right-color: rgba(99, 102, 241, 0.95);
    animation: fx-spin 0.8s linear infinite;
}

.fx-global-loader__title {
    font-size: 13px;
    line-height: 1.2;
    font-weight: 650;
    color: rgba(226, 232, 240, 0.95);
}

.fx-global-loader__subtitle {
    margin-top: 2px;
    font-size: 12px;
    line-height: 1.2;
    color: rgba(148, 163, 184, 0.95);
}

/* Top progress bar */
.fx-global-loader::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    height: 2px;
    width: 100%;
    background: linear-gradient(90deg, rgba(34, 211, 238, 0.0), rgba(34, 211, 238, 0.9), rgba(99, 102, 241, 0.9), rgba(34, 211, 238, 0.0));
    transform-origin: left;
    animation: fx-progress 1.1s ease-in-out infinite;
}

@keyframes fx-spin {
    to { transform: rotate(360deg); }
}

@keyframes fx-progress {
    0% { transform: scaleX(0.08); opacity: 0.55; }
    50% { transform: scaleX(0.65); opacity: 0.95; }
    100% { transform: scaleX(0.12); opacity: 0.65; }
}

/* -------------------------------------------------------------------------- */
/* Global table skeleton / loading styles                                     */
/* -------------------------------------------------------------------------- */
.fx-table {
    --fx-table-cols: 6;
}

.fx-table__loading {
    position: absolute;
    inset: 0;
    z-index: 20;
    border-radius: 14px;
    overflow: hidden;
    backdrop-filter: blur(8px);
    animation: fx-fade-in 0.3s ease-out;
    pointer-events: all;
    touch-action: none;
    user-select: none;

    /* Light mode */
    background: rgba(255, 255, 255, 0.95);
    box-shadow: 0 4px 24px rgba(148, 163, 184, 0.1);

    /* Dark mode */
    &:where(.dark, .dark *) {
        background: rgba(15, 23, 42, 0.95);
        box-shadow: 0 4px 24px rgba(0, 0, 0, 0.3);
    }
}

.fx-table__skeleton {
    border-radius: 14px;
    overflow: hidden;
    height: 100%;
    min-height: 400px;
    pointer-events: none;

    /* Light mode */
    border: 1px solid rgba(148, 163, 184, 0.15);
    background: linear-gradient(
        to bottom,
        rgba(248, 250, 252, 0.8) 0%,
        rgba(241, 245, 249, 0.6) 100%
    );

    /* Dark mode */
    &:where(.dark, .dark *) {
        border: 1px solid rgba(71, 85, 105, 0.2);
        background: linear-gradient(
            to bottom,
            rgba(30, 41, 59, 0.7) 0%,
            rgba(15, 23, 42, 0.5) 100%
        );
    }
}

/* No need for scrollbar hiding - skeleton is not scrollable */

.fx-table__skeleton-row {
    display: grid;
    gap: 20px;
    padding: 18px 24px;
    grid-template-columns: repeat(var(--fx-table-cols), minmax(0, 1fr));
    align-items: center;
    position: relative;

    /* Light mode */
    border-bottom: 1px solid rgba(148, 163, 184, 0.1);

    /* Dark mode */
    &:where(.dark, .dark *) {
        border-bottom: 1px solid rgba(71, 85, 105, 0.1);
    }
}

.fx-table__skeleton-row:first-child {
    padding: 16px 24px;

    /* Light mode */
    background: linear-gradient(
        to right,
        rgba(226, 232, 240, 0.5) 0%,
        rgba(241, 245, 249, 0.3) 100%
    );
    border-bottom-color: rgba(148, 163, 184, 0.15);

    /* Dark mode */
    &:where(.dark, .dark *) {
        background: linear-gradient(
            to right,
            rgba(51, 65, 85, 0.5) 0%,
            rgba(30, 41, 59, 0.3) 100%
        );
        border-bottom-color: rgba(71, 85, 105, 0.15);
    }
}

.fx-table__skeleton-row:last-child {
    border-bottom: 0;
}

/* Modern wave shimmer animation */
.fx-table__skeleton-cell {
    height: 12px;
    border-radius: 8px;
    position: relative;
    overflow: hidden;

    /* Light mode base */
    background: rgba(203, 213, 225, 0.3);

    /* Dark mode base */
    &:where(.dark, .dark *) {
        background: rgba(71, 85, 105, 0.2);
    }
}

/* Wave shimmer effect */
.fx-table__skeleton-cell::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.6) 50%,
        transparent 100%
    );
    animation: fx-wave-shimmer 2s cubic-bezier(0.4, 0.0, 0.2, 1) infinite;
    transform: translateX(-100%);
}

/* Dark mode shimmer */
.fx-table__skeleton-cell:where(.dark, .dark *)::before,
:where(.dark, .dark *) .fx-table__skeleton-cell::before {
    background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(148, 163, 184, 0.3) 50%,
        transparent 100%
    );
}

/* Pulse animation for cells */
.fx-table__skeleton-cell {
    animation: fx-pulse 2s cubic-bezier(0.4, 0.0, 0.6, 1) infinite;
}

/* Header cells - smaller and different animation */
.fx-table__skeleton-row:first-child .fx-table__skeleton-cell {
    height: 10px;
    border-radius: 6px;
    animation-delay: 0.1s;

    /* Light mode */
    background: rgba(148, 163, 184, 0.25);

    /* Dark mode */
    &:where(.dark, .dark *) {
        background: rgba(100, 116, 139, 0.3);
    }
}

/* Stagger animation delays for more dynamic effect */
.fx-table__skeleton-cell:nth-child(1) { animation-delay: 0s; }
.fx-table__skeleton-cell:nth-child(2) { animation-delay: 0.05s; }
.fx-table__skeleton-cell:nth-child(3) { animation-delay: 0.1s; }
.fx-table__skeleton-cell:nth-child(4) { animation-delay: 0.15s; }
.fx-table__skeleton-cell:nth-child(5) { animation-delay: 0.2s; }
.fx-table__skeleton-cell:nth-child(6) { animation-delay: 0.25s; }

/* Vary cell widths for more realistic appearance */
.fx-table__skeleton-cell:nth-child(1) { max-width: 50%; }
.fx-table__skeleton-cell:nth-child(2) { max-width: 80%; }
.fx-table__skeleton-cell:nth-child(3) { max-width: 65%; }
.fx-table__skeleton-cell:nth-child(4) { max-width: 90%; }
.fx-table__skeleton-cell:nth-child(5) { max-width: 75%; }
.fx-table__skeleton-cell:nth-child(6) { max-width: 85%; }

/* Keyframe animations */
@keyframes fx-wave-shimmer {
    0% {
        transform: translateX(-100%);
    }
    100% {
        transform: translateX(200%);
    }
}

@keyframes fx-pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.7;
    }
}

@keyframes fx-fade-in {
    from {
        opacity: 0;
        transform: scale(0.98);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes fx-shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

@media (prefers-reduced-motion: reduce) {
    .fx-global-loader__spinner,
    .fx-global-loader::before,
    .fx-table__skeleton-cell,
    .fx-table__skeleton-cell::before,
    .fx-table__loading {
        animation: none !important;
    }

    .fx-table__skeleton-cell::before {
        display: none;
    }
}

@theme {
    --font-sans: 'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';

    /* Modern Dark Palette */
    --color-dark-bg: #0E1116;
    --color-dark-surface: #1A1F27;
    --color-dark-border: #2A2F37;
    --color-dark-text: #E5E7EB;
    --color-dark-muted: #9CA3AF;

    /* Primary color scale (map to updated OKLCH brand primary below) */
    --color-primary-50: var(--brand-primary-50);
    --color-primary-100: var(--brand-primary-100);
    --color-primary-200: var(--brand-primary-200);
    --color-primary-300: var(--brand-primary-300);
    --color-primary-400: var(--brand-primary-400);
    --color-primary-500: var(--brand-primary-500);
    --color-primary-600: var(--brand-primary-600);
    --color-primary-700: var(--brand-primary-700);
    --color-primary-800: var(--brand-primary-800);
    --color-primary-900: var(--brand-primary-900);
    --color-primary-950: var(--brand-primary-950);

    /* Secondary color scale now represents our neutral dark scale for UI surfaces */
    --color-secondary-50: var(--dark-12);
    --color-secondary-100: var(--dark-11);
    --color-secondary-200: var(--dark-10);
    --color-secondary-300: var(--dark-9);
    --color-secondary-400: var(--dark-8);
    --color-secondary-500: var(--dark-7);
    --color-secondary-600: var(--dark-6);
    --color-secondary-700: var(--dark-5);
    --color-secondary-800: var(--dark-4);
    --color-secondary-900: var(--dark-3);
    --color-secondary-950: var(--dark-0);

    /* Semantic Colors */
    --color-danger-50: #FEF2F2;
    --color-danger-100: #FEE2E2;
    --color-danger-200: #FECACA;
    --color-danger-300: #FCA5A5;
    --color-danger-400: #F87171;
    --color-danger-500: #EF4444;
    --color-danger-600: #DC2626;
    --color-danger-700: #B91C1C;
    --color-danger-800: #991B1B;
    --color-danger-900: #7F1D1D;
    --color-danger-950: #450A0A;

    --color-success-50: #F0FDF4;
    --color-success-100: #DCFCE7;
    --color-success-200: #BBF7D0;
    --color-success-300: #86EFAC;
    --color-success-400: #4ADE80;
    --color-success-500: #22C55E;
    --color-success-600: #16A34A;
    --color-success-700: #15803D;
    --color-success-800: #166534;
    --color-success-900: #14532D;
    --color-success-950: #052E16;

    --color-warning-50: #FEFCE8;
    --color-warning-100: #FEF9C3;
    --color-warning-200: #FEF08A;
    --color-warning-300: #FDE047;
    --color-warning-400: #FACC15;
    --color-warning-500: #EAB308;
    --color-warning-600: #CA8A04;
    --color-warning-700: #A16207;
    --color-warning-800: #854D0E;
    --color-warning-900: #713F12;
    --color-warning-950: #422006;

    --color-info-50: #F0F9FF;
    --color-info-100: #E0F2FE;
    --color-info-200: #BAE6FD;
    --color-info-300: #7DD3FC;
    --color-info-400: #38BDF8;
    --color-info-500: #0EA5E9;
    --color-info-600: #0284C7;
    --color-info-700: #0369A1;
    --color-info-800: #075985;
    --color-info-900: #0C4A6E;
    --color-info-950: #082F49;

    /* 2025 Dark System -------------------------------------------------- */
    /* Refined neutral (graphite / blue-tinted) scale using OKLCH for consistent luminance steps */
    --dark-0: oklch(0.14 0.015 255);       /* Base canvas (almost black, not pure) */
    --dark-1: oklch(0.16 0.015 255);
    --dark-2: oklch(0.18 0.013 255);
    --dark-3: oklch(0.21 0.012 255);       /* Default surface */
    --dark-4: oklch(0.24 0.012 255);
    --dark-5: oklch(0.28 0.012 255);       /* Raised surface */
    --dark-6: oklch(0.33 0.011 255);
    --dark-7: oklch(0.38 0.010 255);       /* Subtle borders */
    --dark-8: oklch(0.45 0.010 255);       /* Muted text */
    --dark-9: oklch(0.58 0.009 255);       /* Secondary text */
    --dark-10: oklch(1 0 89.876);      /* Primary text */
    --dark-11: oklch(0.80 0.005 255);      /* High emphasis */
    --dark-12: oklch(0.92 0.002 255);      /* Inverse surfaces / Elevated text */

    /* Map TallStackUI dark scale to our refined neutral scale */
    --color-dark-50: var(--dark-12);
    --color-dark-100: var(--dark-11);
    --color-dark-200: var(--dark-10);
    --color-dark-300: var(--dark-9);
    --color-dark-400: var(--dark-8);
    --color-dark-500: var(--dark-7);
    --color-dark-600: var(--dark-6);
    --color-dark-700: var(--dark-5);
    --color-dark-800: var(--dark-4);
    --color-dark-900: var(--dark-3);
    --color-dark-950: var(--dark-0);

    /* Core semantic surface tokens */
    --color-bg: var(--dark-0);
    --color-bg-alt: var(--dark-1);
    --color-surface: var(--dark-3);
    --color-surface-alt: var(--dark-4);
    --color-surface-raised: var(--dark-5);
    --color-surface-overlay: color-mix(in oklch, var(--dark-0) 70%, transparent);
    --color-surface-hover: var(--dark-4);
    --color-surface-active: var(--dark-5);
    --color-border-subtle: var(--dark-2);
    --color-border: var(--dark-7);
    --color-border-strong: var(--dark-8);

    /* Text tokens */
    --color-text: var(--dark-10);
    --color-text-high: var(--dark-11);
    --color-text-inverse: var(--dark-1);
    --color-text-muted: var(--dark-8);
    --color-text-subtle: var(--dark-9);
    --color-text-disabled: color-mix(in oklch, var(--dark-8) 60%, var(--dark-7));

    /* Focus & selection */
    --color-focus-ring: oklch(0.72 0.15 200); /* Cyan-ish for accessibility */
    --focus-ring-width: 2px;
    --focus-ring-style: solid;
    --color-selection-bg: oklch(0.35 0.12 210);
    --color-selection-text: var(--dark-11);

    /* Scrollbar (WebKit / Firefox can map) */
    --scrollbar-track: var(--dark-1);
    --scrollbar-thumb: var(--dark-4);
    --scrollbar-thumb-hover: var(--dark-5);

    /* Updated Brand Primary (Ocean Pulse) */
    --brand-primary-50: oklch(0.96 0.03 200);
    --brand-primary-100: oklch(0.92 0.05 200);
    --brand-primary-200: oklch(0.86 0.08 200);
    --brand-primary-300: oklch(0.78 0.11 200);
    --brand-primary-400: oklch(0.70 0.14 200);
    --brand-primary-500: oklch(0.62 0.17 200); /* Base */
    --brand-primary-600: oklch(0.55 0.16 200);
    --brand-primary-700: oklch(0.48 0.14 200);
    --brand-primary-800: oklch(0.42 0.11 200);
    --brand-primary-900: oklch(0.36 0.08 200);
    --brand-primary-950: oklch(0.28 0.06 200);

    /* Updated Brand Secondary (Electric Violet) */
    --brand-secondary-50: oklch(0.96 0.03 300);
    --brand-secondary-100: oklch(0.92 0.06 300);
    --brand-secondary-200: oklch(0.86 0.10 300);
    --brand-secondary-300: oklch(0.78 0.14 300);
    --brand-secondary-400: oklch(0.70 0.19 300);
    --brand-secondary-500: oklch(0.62 0.23 300);
    --brand-secondary-600: oklch(0.55 0.22 300);
    --brand-secondary-700: oklch(0.49 0.20 300);
    --brand-secondary-800: oklch(0.43 0.16 300);
    --brand-secondary-900: oklch(0.37 0.12 300);
    --brand-secondary-950: oklch(0.30 0.09 300);

    /* Interaction alias mapping */
    --color-brand-primary: var(--brand-primary-500);
    --color-brand-secondary: var(--brand-secondary-500);
    --color-accent: var(--brand-primary-400);
    --color-accent-hover: var(--brand-primary-300);
    --color-accent-active: var(--brand-primary-200);
    --color-accent-subtle: color-mix(in oklch, var(--brand-primary-500) 8%, var(--dark-3));

    /* Inline link colors */
    --color-link: var(--brand-primary-400);
    --color-link-hover: var(--brand-primary-300);
    --color-link-active: var(--brand-primary-200);
    --color-link-visited: oklch(0.62 0.17 270);

    /* State colors (OKLCH tuned for dark backgrounds) */
    --state-danger-bg: color-mix(in oklch, var(--color-danger-500) 12%, var(--dark-3));
    --state-danger-border: var(--color-danger-600);
    --state-danger-text: var(--color-danger-400);
    --state-success-bg: color-mix(in oklch, var(--color-success-500) 12%, var(--dark-3));
    --state-success-border: var(--color-success-600);
    --state-success-text: var(--color-success-400);
    --state-warning-bg: color-mix(in oklch, var(--color-warning-500) 14%, var(--dark-3));
    --state-warning-border: var(--color-warning-600);
    --state-warning-text: var(--color-warning-400);
    --state-info-bg: color-mix(in oklch, var(--color-info-500) 14%, var(--dark-3));
    --state-info-border: var(--color-info-600);
    --state-info-text: var(--color-info-400);

    /* Elevation / shadows tuned for dark mode (ambient, crisp, focus) */
    --shadow-ambient: 0 2px 4px -2px oklch(0.18 0.02 255 / 0.6), 0 4px 8px -2px oklch(0.18 0.02 255 / 0.4);
    --shadow-raised: 0 4px 12px -3px oklch(0.18 0.02 255 / 0.55), 0 6px 20px -4px oklch(0.18 0.02 255 / 0.45);
    --shadow-pop: 0 8px 28px -6px oklch(0.18 0.02 255 / 0.55), 0 12px 40px -8px oklch(0.18 0.02 255 / 0.4);
    --shadow-focus: 0 0 0 2px oklch(0.62 0.17 200 / 0.8), 0 0 0 4px oklch(0.62 0.17 200 / 0.3);

    /* Gradients */
    --gradient-brand: linear-gradient(135deg, var(--brand-primary-500) 0%, var(--brand-primary-300) 50%, var(--brand-primary-200) 100%);
    --gradient-accent: linear-gradient(135deg, var(--brand-secondary-500) 0%, var(--brand-secondary-400) 60%, var(--brand-secondary-300) 100%);
    --gradient-radial-accent: radial-gradient(circle at 30% 30%, var(--brand-primary-500), transparent 70%);

    /* Backdrop / overlays */
    --backdrop-blur-sm: 4px;
    --backdrop-blur-md: 12px;
    --backdrop-blur-lg: 24px;
    --color-backdrop: oklch(0.14 0.015 255 / 0.65);
    --color-backdrop-strong: oklch(0.14 0.015 255 / 0.85);

    /* Rings / outlines */
    --color-ring: var(--color-focus-ring);
    --color-ring-muted: oklch(0.45 0.03 255);

    /* Accent utilities (success/danger/etc. with improved contrast on dark) */
    --accent-danger: var(--color-danger-500);
    --accent-success: var(--color-success-500);
    --accent-warning: var(--color-warning-500);
    --accent-info: var(--color-info-500);

    /* Button design tokens */
    --btn-bg: var(--color-surface);
    --btn-bg-hover: var(--color-surface-hover);
    --btn-bg-active: var(--color-surface-active);
    --btn-border: var(--color-border);
    --btn-border-hover: var(--color-border-strong);
    --btn-text: var(--color-text);
    --btn-text-muted: var(--color-text-muted);
    --btn-primary-bg: var(--brand-primary-500);
    --btn-primary-bg-hover: var(--brand-primary-400);
    --btn-primary-bg-active: var(--brand-primary-300);
    --btn-primary-text: oklch(0.96 0.01 260);

    /* Input design tokens */
    --input-bg: var(--color-surface-alt);
    --input-bg-focus: var(--color-surface-raised);
    --input-border: var(--color-border);
    --input-border-focus: var(--brand-primary-400);
    --input-placeholder: var(--color-text-muted);
    --input-text: var(--color-text-high);

    /* Tag / badge tokens */
    --badge-bg: var(--color-surface-alt);
    --badge-bg-accent: var(--brand-primary-600);
    --badge-text: var(--color-text);
    --badge-text-accent: oklch(0.92 0.02 210);

    /* Progress / meter */
    --progress-track: var(--color-surface-alt);
    --progress-fill: var(--brand-primary-500);

    /* Switch / toggle */
    --toggle-track: var(--dark-4);
    --toggle-track-active: var(--brand-primary-600);
    --toggle-thumb: var(--dark-9);
    --toggle-thumb-active: var(--dark-12);

    /* Notification / toast */
    --toast-bg: var(--color-surface-raised);
    --toast-border: var(--color-border);
    --toast-shadow: var(--shadow-raised);

    /* Skeleton */
    --skeleton-base: var(--dark-2);
    --skeleton-shimmer: var(--dark-4);

    /* Charts */
    --chart-grid: var(--dark-5);
    --chart-axis: var(--dark-8);
    --chart-line-1: var(--brand-primary-500);
    --chart-line-2: var(--brand-secondary-500);
    --chart-line-3: var(--color-success-500);
    --chart-line-4: var(--color-warning-500);
    --chart-line-5: var(--color-info-500);

    /* Transitions */
    --transition-fast: 120ms;
    --transition-medium: 240ms;
    --transition-slow: 400ms;
    --transition-surface: background-color var(--transition-medium) var(--ease-in-out), border-color var(--transition-medium) var(--ease-in-out), color var(--transition-fast) var(--ease-out);

    /* Z-index scale */
    --z-base: 0;
    --z-dropdown: 1000;
    --z-sticky: 1100;
    --z-overlay: 1200;
    --z-modal: 1300;
    --z-popover: 1400;
    --z-toast: 1500;
    --z-high: 2000;

    /* Misc */
    --color-outline: var(--color-focus-ring);
    --outline-width: 2px;
    --outline-offset: 2px;
}

/* Base application of the dark system */
:root {
    color-scheme: dark;
}

html, body {
    background-color: var(--color-bg);
    color: var(--color-text);
}

::selection {
    background: var(--color-selection-bg);
    color: var(--color-selection-text);
}

/* Subtle scrollbar styling */
* {
    scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: var(--scrollbar-track);
}

::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--scrollbar-thumb-hover);
}

/* Light theme overrides (applied when `html` has the `light` class) */
html.light {
    /* Tell the browser to render native controls for light theme */
    color-scheme: light;

    /* Core surface/token overrides (fallback hex first, then modern OKLCH where desired) */
    --color-bg: #ffffff;
    --color-bg-alt: #f8fafc;
    --color-surface: #ffffff;
    --color-surface-alt: #f1f5f9;
    --color-surface-raised: #ffffff;
    --color-border: #e6edf3;
    --color-border-subtle: #f0f6fb;

    /* Text */
    --color-text: #0f172a; /* slate-900 */
    --color-text-high: #020617;
    --color-text-muted: #475569; /* slate-600 */

    /* Brand (example OKLCH, fallback hex not always possible; include hex fallback if needed) */
    --brand-primary-500: oklch(0.35 0.18 220);
    --brand-primary-400: oklch(0.45 0.16 220);
    --brand-primary-300: oklch(0.60 0.12 220);

    /* Accent / links */
    --color-link: var(--brand-primary-400);
    --color-link-hover: var(--brand-primary-300);

    /* Focus & selection (tuned for light) */
    --color-focus-ring: oklch(0.2 0.12 200);
    --color-selection-bg: oklch(0.85 0.12 210);
    --color-selection-text: #ffffff;

    /* Scrollbar for light */
    --scrollbar-track: #f1f5f9;
    --scrollbar-thumb: #cbd5e1;
    --scrollbar-thumb-hover: #94a3b8;

    /* State backgrounds tuned for light surfaces */
    --state-danger-bg: color-mix(in oklch, var(--color-danger-500) 10%, #ffffff);
    --state-success-bg: color-mix(in oklch, var(--color-success-500) 10%, #ffffff);
    --state-warning-bg: color-mix(in oklch, var(--color-warning-500) 10%, #ffffff);
    --state-info-bg: color-mix(in oklch, var(--color-info-500) 10%, #ffffff);

    /* Buttons / inputs */
    --btn-bg: var(--color-surface);
    --btn-border: var(--color-border);
    --btn-text: var(--color-text);
    --btn-primary-bg: var(--brand-primary-500);
    --btn-primary-text: #ffffff;

    --input-bg: var(--color-surface-alt);
    --input-border: var(--color-border);
    --input-placeholder: var(--color-text-muted);
    --input-text: var(--color-text-high);

    /* Toast */
    --toast-bg: var(--color-surface-raised);
    --toast-border: var(--color-border);
    --toast-shadow: 0 4px 12px -3px rgba(2,6,23,0.06);

    /* Misc adjustments */
    --color-backdrop: rgba(255,255,255,0.7);

    /* --- Slate scale overrides (so bg-slate-*, text-slate-*, border-slate-* map to light-friendly colors) --- */
    /* Map the darker Tailwind slate utilities to the light-mode surface tokens so components
       that use bg-slate-950, bg-slate-950/90, border-slate-800, etc. appear light.
       We intentionally map the -950/-900/-800 entries to light surface colors. */
    --color-slate-950: var(--color-surface);    /* used by bg-slate-950 -> should be light surface */
    --color-slate-900: var(--color-bg-alt);
    --color-slate-800: var(--color-surface-alt); /* used by border-slate-800 -> light border */
    --color-slate-700: #e2e8f0;
    --color-slate-600: #cbd5e1;
    --color-slate-500: #94a3b8;
    --color-slate-400: #64748b;
    --color-slate-300: #475569;
    --color-slate-200: #334155;
    --color-slate-100: #1e293b;
    --color-slate-50: #0f172a;

    /* Secondary / neutral scale used in some components */
    --color-secondary-50: var(--color-slate-50);
    --color-secondary-100: var(--color-slate-100);
    --color-secondary-200: var(--color-slate-200);
    --color-secondary-300: var(--color-slate-300);
    --color-secondary-400: var(--color-slate-400);
    --color-secondary-500: var(--color-slate-500);
    --color-secondary-600: var(--color-slate-600);
    --color-secondary-700: var(--color-slate-700);
    --color-secondary-800: var(--color-slate-800);
    --color-secondary-900: var(--color-slate-900);
    --color-secondary-950: var(--color-slate-950);

    /* Map the project's dark-* tokens to light-friendly values while in light mode
       (some components reference --dark-* directly) */
    --dark-0: #ffffff;
    --dark-1: #f8fafc;
    --dark-2: #f1f5f9;
    --dark-3: #e2e8f0; /* surface */
    --dark-4: #cbd5e1;
    --dark-5: #94a3b8; /* raised */
    --dark-6: #64748b;
    --dark-7: #475569;
    --dark-8: #334155; /* muted text */
    --dark-9: #1e293b;
    --dark-10: #0f172a; /* primary text */
    --dark-11: #0b1220; /* high emphasis */
    --dark-12: #020617; /* inverse surfaces */

    /* Ensure components that use these aliases pick up light tokens */
    --color-dark-50: var(--dark-12);
    --color-dark-100: var(--dark-11);
    --color-dark-200: var(--dark-10);
    --color-dark-300: var(--dark-9);
    --color-dark-400: var(--dark-8);
    --color-dark-500: var(--dark-7);
    --color-dark-600: var(--dark-6);
    --color-dark-700: var(--dark-5);
    --color-dark-800: var(--dark-4);
    --color-dark-900: var(--dark-3);
    --color-dark-950: var(--dark-0);

    /* Provide a lighter surface overlay for components that mix against --dark-0 in light mode */
    --color-surface-overlay: color-mix(in oklch, var(--color-bg) 90%, transparent);

}
